import{r as e,z as t,aM as n,L as o,az as r,e as a,B as l,_ as i,M as c,ah as s,aN as u,x as d,aO as m,N as f,aP as p,l as g,Y as b,aQ as v,aK as C,g as y,aR as x,c as h,b as $,P as O,m as E,d as k,s as w,aS as S,aG as P,aT as N,aB as T,f as j,at as B,C as I,U as z,aU as R,aV as H,au as M,aW as L}from"./index-BHzTjgdo.js";import{B as F,v as A,C as W,u as D,N as q,E as G,c as U,l as X,I as V,w as Y,x as K}from"./request-BdSZPrdh.js";import{k as _}from"./assessment-B8y50_jM.js";function Q(e){return!(!e||!e.then)}const J=t=>{const{type:o,children:r,prefixCls:a,buttonProps:l,close:i,autoFocus:c,emitEvent:s,isSilent:u,quitOnNullishReturnValue:d,actionFn:m}=t,f=e.useRef(!1),p=e.useRef(null),[g,b]=n(!1),v=function(){null==i||i.apply(void 0,arguments)};e.useEffect((()=>{let e=null;return c&&(e=setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return e.createElement(F,Object.assign({},A(o),{onClick:e=>{if(f.current)return;if(f.current=!0,!m)return void v();let t;if(s){if(t=m(e),d&&!Q(t))return f.current=!1,void v(e)}else if(m.length)t=m(i),f.current=!1;else if(t=m(),!t)return void v();(e=>{Q(e)&&(b(!0),e.then((function(){b(!1,!0),v.apply(void 0,arguments),f.current=!1}),(e=>{if(b(!1,!0),f.current=!1,!(null==u?void 0:u()))return Promise.reject(e)})))})(t)},loading:g,prefixCls:a},l,{ref:p}),r)},Z=o.createContext({}),{Provider:ee}=Z,te=()=>{const{autoFocusButton:t,cancelButtonProps:n,cancelTextLocale:r,isSilent:a,mergedOkCancel:l,rootPrefixCls:i,close:c,onCancel:s,onConfirm:u}=e.useContext(Z);return l?o.createElement(J,{isSilent:a,actionFn:s,close:function(){null==c||c.apply(void 0,arguments),null==u||u(!1)},autoFocus:"cancel"===t,buttonProps:n,prefixCls:`${i}-btn`},r):null},ne=()=>{const{autoFocusButton:t,close:n,isSilent:r,okButtonProps:a,rootPrefixCls:l,okTextLocale:i,okType:c,onConfirm:s,onOk:u}=e.useContext(Z);return o.createElement(J,{isSilent:r,type:c||"primary",actionFn:u,close:function(){null==n||n.apply(void 0,arguments),null==s||s(!0)},autoFocus:"ok"===t,buttonProps:a,prefixCls:`${l}-btn`},i)};var oe=e.createContext({});function re(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function ae(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var r=e.document;"number"!=typeof(n=r.documentElement[o])&&(n=r.body[o])}return n}const le=e.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var ie={width:0,height:0,overflow:"hidden",outline:"none"},ce=o.forwardRef((function(t,n){var c=t.prefixCls,s=t.className,u=t.style,d=t.title,m=t.ariaId,f=t.footer,p=t.closable,g=t.closeIcon,b=t.onClose,v=t.children,C=t.bodyStyle,y=t.bodyProps,x=t.modalRender,h=t.onMouseDown,$=t.onMouseUp,O=t.holderRef,E=t.visible,k=t.forceRender,w=t.width,S=t.height,P=t.classNames,N=t.styles,T=o.useContext(oe).panel,j=r(O,T),B=e.useRef(),I=e.useRef();o.useImperativeHandle(n,(function(){return{focus:function(){var e;null===(e=B.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===I.current?B.current.focus():e||t!==B.current||I.current.focus()}}}));var z,R,H,M={};void 0!==w&&(M.width=w),void 0!==S&&(M.height=S),f&&(z=o.createElement("div",{className:a("".concat(c,"-footer"),null==P?void 0:P.footer),style:l({},null==N?void 0:N.footer)},f)),d&&(R=o.createElement("div",{className:a("".concat(c,"-header"),null==P?void 0:P.header),style:l({},null==N?void 0:N.header)},o.createElement("div",{className:"".concat(c,"-title"),id:m},d))),p&&(H=o.createElement("button",{type:"button",onClick:b,"aria-label":"Close",className:"".concat(c,"-close")},g||o.createElement("span",{className:"".concat(c,"-close-x")})));var L=o.createElement("div",{className:a("".concat(c,"-content"),null==P?void 0:P.content),style:null==N?void 0:N.content},H,R,o.createElement("div",i({className:a("".concat(c,"-body"),null==P?void 0:P.body),style:l(l({},C),null==N?void 0:N.body)},y),v),z);return o.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":d?m:null,"aria-modal":"true",ref:j,style:l(l({},u),M),className:a(c,s),onMouseDown:h,onMouseUp:$},o.createElement("div",{tabIndex:0,ref:B,style:ie,"aria-hidden":"true"}),o.createElement(le,{shouldUpdate:E||k},x?x(L):L),o.createElement("div",{tabIndex:0,ref:I,style:ie,"aria-hidden":"true"}))})),se=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.title,u=t.style,d=t.className,m=t.visible,f=t.forceRender,p=t.destroyOnClose,g=t.motionName,b=t.ariaId,v=t.onVisibleChanged,C=t.mousePosition,y=e.useRef(),x=e.useState(),h=c(x,2),$=h[0],O=h[1],E={};function k(){var e,t,n,o,r,a=(e=y.current,t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow,n.left+=ae(r),n.top+=ae(r,!0),n);O(C?"".concat(C.x-a.left,"px ").concat(C.y-a.top,"px"):"")}return $&&(E.transformOrigin=$),e.createElement(s,{visible:m,onVisibleChanged:v,onAppearPrepare:k,onEnterPrepare:k,forceRender:f,motionName:g,removeOnLeave:p,ref:y},(function(c,s){var m=c.className,f=c.style;return e.createElement(ce,i({},t,{ref:n,title:r,ariaId:b,prefixCls:o,holderRef:s,style:l(l(l({},f),u),E),className:a(d,m)}))}))}));function ue(t){var n=t.prefixCls,o=t.style,r=t.visible,c=t.maskProps,u=t.motionName,d=t.className;return e.createElement(s,{key:"mask",visible:r,motionName:u,leavedClassName:"".concat(n,"-mask-hidden")},(function(t,r){var s=t.className,u=t.style;return e.createElement("div",i({ref:r,style:l(l({},u),o),className:a("".concat(n,"-mask"),s,d)},c))}))}function de(t){var n=t.prefixCls,o=void 0===n?"rc-dialog":n,r=t.zIndex,s=t.visible,p=void 0!==s&&s,g=t.keyboard,b=void 0===g||g,v=t.focusTriggerAfterClose,C=void 0===v||v,y=t.wrapStyle,x=t.wrapClassName,h=t.wrapProps,$=t.onClose,O=t.afterOpenChange,E=t.afterClose,k=t.transitionName,w=t.animation,S=t.closable,P=void 0===S||S,N=t.mask,T=void 0===N||N,j=t.maskTransitionName,B=t.maskAnimation,I=t.maskClosable,z=void 0===I||I,R=t.maskStyle,H=t.maskProps,M=t.rootClassName,L=t.classNames,F=t.styles,A=e.useRef(),W=e.useRef(),D=e.useRef(),q=e.useState(p),G=c(q,2),U=G[0],X=G[1],V=u();function Y(e){null==$||$(e)}var K=e.useRef(!1),_=e.useRef(),Q=null;return z&&(Q=function(e){K.current?K.current=!1:W.current===e.target&&Y(e)}),e.useEffect((function(){p&&(X(!0),m(W.current,document.activeElement)||(A.current=document.activeElement))}),[p]),e.useEffect((function(){return function(){clearTimeout(_.current)}}),[]),e.createElement("div",i({className:a("".concat(o,"-root"),M)},d(t,{data:!0})),e.createElement(ue,{prefixCls:o,visible:T&&p,motionName:re(o,j,B),style:l(l({zIndex:r},R),null==F?void 0:F.mask),maskProps:H,className:null==L?void 0:L.mask}),e.createElement("div",i({tabIndex:-1,onKeyDown:function(e){if(b&&e.keyCode===f.ESC)return e.stopPropagation(),void Y(e);p&&e.keyCode===f.TAB&&D.current.changeActive(!e.shiftKey)},className:a("".concat(o,"-wrap"),x,null==L?void 0:L.wrapper),ref:W,onClick:Q,style:l(l(l({zIndex:r},y),null==F?void 0:F.wrapper),{},{display:U?null:"none"})},h),e.createElement(se,i({},t,{onMouseDown:function(){clearTimeout(_.current),K.current=!0},onMouseUp:function(){_.current=setTimeout((function(){K.current=!1}))},ref:D,closable:P,ariaId:V,prefixCls:o,visible:p&&U,onClose:Y,onVisibleChanged:function(e){if(e)m(W.current,document.activeElement)||null===(t=D.current)||void 0===t||t.focus();else{if(X(!1),T&&A.current&&C){try{A.current.focus({preventScroll:!0})}catch(n){}A.current=null}U&&(null==E||E())}var t;null==O||O(e)},motionName:re(o,k,w)}))))}se.displayName="Content";var me=function(t){var n=t.visible,o=t.getContainer,r=t.forceRender,a=t.destroyOnClose,l=void 0!==a&&a,s=t.afterClose,u=t.panelRef,d=e.useState(n),m=c(d,2),f=m[0],g=m[1],b=e.useMemo((function(){return{panel:u}}),[u]);return e.useEffect((function(){n&&g(!0)}),[n]),r||!l||f?e.createElement(oe.Provider,{value:b},e.createElement(p,{open:n||r||f,autoDestroy:!1,getContainer:o,autoLock:n||f},e.createElement(de,i({},t,{destroyOnClose:l,afterClose:function(){null==s||s(),g(!1)}})))):null};function fe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.createElement(W,null);const a=function(e,t,n){return"boolean"==typeof e?e:void 0===t?!!n:!1!==t&&null!==t}(e,t,arguments.length>4&&void 0!==arguments[4]&&arguments[4]);if(!a)return[!1,null];const l="boolean"==typeof t||null==t?r:t;return[!0,n?n(l):l]}me.displayName="Dialog";function pe(){}const ge=e.createContext({add:pe,remove:pe});const be=()=>{const{cancelButtonProps:t,cancelTextLocale:n,onCancel:r}=e.useContext(Z);return o.createElement(F,Object.assign({onClick:r},t),n)},ve=()=>{const{confirmLoading:t,okButtonProps:n,okType:r,okTextLocale:a,onOk:l}=e.useContext(Z);return o.createElement(F,Object.assign({},A(r),{loading:t,onClick:l},n),a)};function Ce(e,t){return o.createElement("span",{className:`${e}-close-x`},t||o.createElement(W,{className:`${e}-close-icon`}))}const ye=e=>{const{okText:n,okType:r="primary",cancelText:a,confirmLoading:l,onOk:i,onCancel:c,okButtonProps:s,cancelButtonProps:u,footer:d}=e,[m]=D("Modal",v()),f={confirmLoading:l,okButtonProps:s,cancelButtonProps:u,okTextLocale:n||(null==m?void 0:m.okText),cancelTextLocale:a||(null==m?void 0:m.cancelText),okType:r,onOk:i,onCancel:c},p=o.useMemo((()=>f),t(Object.values(f)));let g;return"function"==typeof d||void 0===d?(g=o.createElement(o.Fragment,null,o.createElement(be,null),o.createElement(ve,null)),"function"==typeof d&&(g=d(g,{OkBtn:ve,CancelBtn:be})),g=o.createElement(ee,{value:p},g)):g=d,o.createElement(C,{disabled:!1},g)};function xe(e){return{position:e,inset:0}}const he=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},xe("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},xe("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${t}${n}-zoom-enter), &:has(${t}${n}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${t}-root`]:_(e)}]},$e=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${h(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},$(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${h(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${h(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:e.closeBtnActiveBg}},O(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${h(e.borderRadiusLG)} ${h(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Oe=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Ee=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return E(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},ke=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,closeBtnHoverBg:e.wireframe?"transparent":e.colorFillContent,closeBtnActiveBg:e.wireframe?"transparent":e.colorFillContentHover,contentPadding:e.wireframe?0:`${h(e.paddingMD)} ${h(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${h(e.padding)} ${h(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${h(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${h(e.paddingXS)} ${h(e.padding)}`:0,footerBorderTop:e.wireframe?`${h(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${h(e.borderRadiusLG)} ${h(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${h(2*e.padding)} ${h(2*e.padding)} ${h(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),we=y("Modal",(e=>{const t=Ee(e);return[$e(t),Oe(t),he(t),x(t,"zoom")]}),ke,{unitless:{titleLineHeight:!0}});let Se;const Pe=e=>{Se={x:e.pageX,y:e.pageY},setTimeout((()=>{Se=null}),100)};g()&&window.document.documentElement&&document.documentElement.addEventListener("click",Pe,!0);const Ne=t=>{var n;const{getPopupContainer:o,getPrefixCls:r,direction:l,modal:i}=e.useContext(k),c=e=>{const{onCancel:n}=t;null==n||n(e)},{prefixCls:s,className:u,rootClassName:d,open:m,wrapClassName:f,centered:p,getContainer:g,closeIcon:v,closable:C,focusTriggerAfterClose:y=!0,style:x,visible:h,width:$=520,footer:O,classNames:E,styles:j}=t,B=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),I=r("modal",s),z=r(),R=w(I),[H,M,L]=we(I,R),F=a(f,{[`${I}-centered`]:!!p,[`${I}-wrap-rtl`]:"rtl"===l}),A=null!==O&&e.createElement(ye,Object.assign({},t,{onOk:e=>{const{onOk:n}=t;null==n||n(e)},onCancel:c})),[D,G]=fe(C,void 0!==v?v:null==i?void 0:i.closeIcon,(e=>Ce(I,e)),e.createElement(W,{className:`${I}-close-icon`}),!0),U=function(t){const n=e.useContext(ge),o=e.useRef();return b((e=>{if(e){const r=t?e.querySelector(t):e;n.add(r),o.current=r}else n.remove(o.current)}))}(`.${I}-content`),[X,V]=S("Modal",B.zIndex);return H(e.createElement(P,null,e.createElement(q,{status:!0,override:!0},e.createElement(N.Provider,{value:V},e.createElement(me,Object.assign({width:$},B,{zIndex:X,getContainer:void 0===g?o:g,prefixCls:I,rootClassName:a(M,d,L,R),footer:A,visible:null!=m?m:h,mousePosition:null!==(n=B.mousePosition)&&void 0!==n?n:Se,onClose:c,closable:D,closeIcon:G,focusTriggerAfterClose:y,transitionName:T(z,"zoom",t.transitionName),maskTransitionName:T(z,"fade",t.maskTransitionName),className:a(M,u,null==i?void 0:i.className),style:Object.assign(Object.assign({},null==i?void 0:i.style),x),classNames:Object.assign(Object.assign(Object.assign({},null==i?void 0:i.classNames),E),{wrapper:a(F,null==E?void 0:E.wrapper)}),styles:Object.assign(Object.assign({},null==i?void 0:i.styles),j),panelRef:U}))))))},Te=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:r,fontSize:a,lineHeight:l,modalTitleHeight:i,fontHeight:c,confirmBodyPadding:s}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},B()),[`&${t} ${t}-body`]:{padding:s},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:r,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(r).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(r).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${h(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},[`${u}-content`]:{color:e.colorText,fontSize:a,lineHeight:l},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},je=j(["Modal","confirm"],(e=>{const t=Ee(e);return[Te(t)]}),ke,{order:-1e3});function Be(n){const{prefixCls:o,icon:r,okText:l,cancelText:i,confirmPrefixCls:c,type:s,okCancel:u,footer:d,locale:m}=n,f=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let p=r;if(!r&&null!==r)switch(s){case"info":p=e.createElement(V,null);break;case"success":p=e.createElement(X,null);break;case"error":p=e.createElement(U,null);break;default:p=e.createElement(G,null)}const g=null!=u?u:"confirm"===s,b=null!==n.autoFocusButton&&(n.autoFocusButton||"ok"),[v]=D("Modal"),C=m||v,y=l||(g?null==C?void 0:C.okText:null==C?void 0:C.justOkText),x=i||(null==C?void 0:C.cancelText),h=Object.assign({autoFocusButton:b,cancelTextLocale:x,okTextLocale:y,mergedOkCancel:g},f),$=e.useMemo((()=>h),t(Object.values(h))),O=e.createElement(e.Fragment,null,e.createElement(te,null),e.createElement(ne,null)),E=void 0!==n.title&&null!==n.title,k=`${c}-body`;return e.createElement("div",{className:`${c}-body-wrapper`},e.createElement("div",{className:a(k,{[`${k}-has-title`]:E})},p,e.createElement("div",{className:`${c}-paragraph`},E&&e.createElement("span",{className:`${c}-title`},n.title),e.createElement("div",{className:`${c}-content`},n.content))),void 0===d||"function"==typeof d?e.createElement(ee,{value:$},e.createElement("div",{className:`${c}-btns`},"function"==typeof d?d(O,{OkBtn:ne,CancelBtn:te}):O)):d,e.createElement(je,{prefixCls:o}))}const Ie=t=>{const{close:n,zIndex:o,afterClose:r,open:l,keyboard:i,centered:c,getContainer:s,maskStyle:u,direction:d,prefixCls:m,wrapClassName:f,rootPrefixCls:p,bodyStyle:g,closable:b=!1,closeIcon:v,modalRender:C,focusTriggerAfterClose:y,onConfirm:x,styles:h}=t,$=`${m}-confirm`,O=t.width||416,E=t.style||{},k=void 0===t.mask||t.mask,w=void 0!==t.maskClosable&&t.maskClosable,S=a($,`${$}-${t.type}`,{[`${$}-rtl`]:"rtl"===d},t.className),[,P]=z(),N=e.useMemo((()=>void 0!==o?o:P.zIndexPopupBase+R),[o,P]);return e.createElement(Ne,{prefixCls:m,className:S,wrapClassName:a({[`${$}-centered`]:!!t.centered},f),onCancel:()=>{null==n||n({triggerCancel:!0}),null==x||x(!1)},open:l,title:"",footer:null,transitionName:T(p||"","zoom",t.transitionName),maskTransitionName:T(p||"","fade",t.maskTransitionName),mask:k,maskClosable:w,style:E,styles:Object.assign({body:g,mask:u},h),width:O,zIndex:N,afterClose:r,keyboard:i,centered:c,getContainer:s,closable:b,closeIcon:v,modalRender:C,focusTriggerAfterClose:y},e.createElement(Be,Object.assign({},t,{confirmPrefixCls:$})))},ze=t=>{const{rootPrefixCls:n,iconPrefixCls:o,direction:r,theme:a}=t;return e.createElement(I,{prefixCls:n,iconPrefixCls:o,direction:r,theme:a},e.createElement(Ie,Object.assign({},t)))},Re=[];let He="";function Me(){return He}const Le=t=>{var n,r;const{prefixCls:a,getContainer:l,direction:i}=t,c=v(),s=e.useContext(k),u=Me()||s.getPrefixCls(),d=a||`${u}-modal`;let m=l;return!1===m&&(m=void 0),o.createElement(ze,Object.assign({},t,{rootPrefixCls:u,prefixCls:d,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:null!=i?i:s.direction,locale:null!==(r=null===(n=s.locale)||void 0===n?void 0:n.Modal)&&void 0!==r?r:c,getContainer:m}))};function Fe(e){const n=H(),r=document.createDocumentFragment();let a,l=Object.assign(Object.assign({},e),{close:s,open:!0});function i(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];const l=o.some((e=>e&&e.triggerCancel));e.onCancel&&l&&e.onCancel.apply(e,[()=>{}].concat(t(o.slice(1))));for(let e=0;e<Re.length;e++){if(Re[e]===s){Re.splice(e,1);break}}Y(r)}function c(e){clearTimeout(a),a=setTimeout((()=>{const t=n.getPrefixCls(void 0,Me()),a=n.getIconPrefixCls(),l=n.getTheme(),i=o.createElement(Le,Object.assign({},e));K(o.createElement(I,{prefixCls:t,iconPrefixCls:a,theme:l},n.holderRender?n.holderRender(i):i),r)}))}function s(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];l=Object.assign(Object.assign({},l),{open:!1,afterClose:()=>{"function"==typeof e.afterClose&&e.afterClose(),i.apply(this,n)}}),l.visible&&delete l.visible,c(l)}return c(l),Re.push(s),{destroy:s,update:function(e){l="function"==typeof e?e(l):Object.assign(Object.assign({},l),e),c(l)}}}function Ae(e){return Object.assign(Object.assign({},e),{type:"warning"})}function We(e){return Object.assign(Object.assign({},e),{type:"info"})}function De(e){return Object.assign(Object.assign({},e),{type:"success"})}function qe(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ge(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var Ue=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Xe=(n,o)=>{var r,{afterClose:a,config:l}=n,i=Ue(n,["afterClose","config"]);const[c,s]=e.useState(!0),[u,d]=e.useState(l),{direction:m,getPrefixCls:f}=e.useContext(k),p=f("modal"),g=f(),b=function(){s(!1);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];const r=n.some((e=>e&&e.triggerCancel));u.onCancel&&r&&u.onCancel.apply(u,[()=>{}].concat(t(n.slice(1))))};e.useImperativeHandle(o,(()=>({destroy:b,update:e=>{d((t=>Object.assign(Object.assign({},t),e)))}})));const v=null!==(r=u.okCancel)&&void 0!==r?r:"confirm"===u.type,[C]=D("Modal",M.Modal);return e.createElement(ze,Object.assign({prefixCls:p,rootPrefixCls:g},u,{close:b,open:c,afterClose:()=>{var e;a(),null===(e=u.afterClose)||void 0===e||e.call(u)},okText:u.okText||(v?null==C?void 0:C.okText:null==C?void 0:C.justOkText),direction:u.direction||m,cancelText:u.cancelText||(null==C?void 0:C.cancelText)},i))},Ve=e.forwardRef(Xe);let Ye=0;const Ke=e.memo(e.forwardRef(((n,o)=>{const[r,a]=function(){const[n,o]=e.useState([]);return[n,e.useCallback((e=>(o((n=>[].concat(t(n),[e]))),()=>{o((t=>t.filter((t=>t!==e))))})),[])]}();return e.useImperativeHandle(o,(()=>({patchElement:a})),[]),e.createElement(e.Fragment,null,r)})));var _e=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const Qe=L((t=>{const{prefixCls:n,className:o,closeIcon:r,closable:l,type:i,title:c,children:s,footer:u}=t,d=_e(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:m}=e.useContext(k),f=m(),p=n||m("modal"),g=w(f),[b,v,C]=we(p,g),y=`${p}-confirm`;let x={};return x=i?{closable:null!=l&&l,title:"",footer:"",children:e.createElement(Be,Object.assign({},t,{prefixCls:p,confirmPrefixCls:y,rootPrefixCls:f,content:s}))}:{closable:null==l||l,title:c,footer:null!==u&&e.createElement(ye,Object.assign({},t)),children:s},b(e.createElement(ce,Object.assign({prefixCls:p,className:a(v,`${p}-pure-panel`,i&&y,i&&`${y}-${i}`,o,C,g)},d,{closeIcon:Ce(p,r),closable:l},x)))}));function Je(e){return Fe(Ae(e))}const Ze=Ne;Ze.useModal=function(){const n=e.useRef(null),[o,r]=e.useState([]);e.useEffect((()=>{if(o.length){t(o).forEach((e=>{e()})),r([])}}),[o]);const a=e.useCallback((o=>function(a){var l;Ye+=1;const i=e.createRef();let c;const s=new Promise((e=>{c=e}));let u,d=!1;const m=e.createElement(Ve,{key:`modal-${Ye}`,config:o(a),ref:i,afterClose:()=>{null==u||u()},isSilent:()=>d,onConfirm:e=>{c(e)}});u=null===(l=n.current)||void 0===l?void 0:l.patchElement(m),u&&Re.push(u);const f={destroy:()=>{function e(){var e;null===(e=i.current)||void 0===e||e.destroy()}i.current?e():r((n=>[].concat(t(n),[e])))},update:e=>{function n(){var t;null===(t=i.current)||void 0===t||t.update(e)}i.current?n():r((e=>[].concat(t(e),[n])))},then:e=>(d=!0,s.then(e))};return f}),[]);return[e.useMemo((()=>({info:a(We),success:a(De),error:a(qe),warning:a(Ae),confirm:a(Ge)})),[]),e.createElement(Ke,{key:"modal-holder",ref:n})]},Ze.info=function(e){return Fe(We(e))},Ze.success=function(e){return Fe(De(e))},Ze.error=function(e){return Fe(qe(e))},Ze.warning=Je,Ze.warn=Je,Ze.confirm=function(e){return Fe(Ge(e))},Ze.destroyAll=function(){for(;Re.length;){const e=Re.pop();e&&e()}},Ze.config=function(e){let{rootPrefixCls:t}=e;He=t},Ze._InternalPanelDoNotUseOrYouWillBeFired=Qe;const et=Ze;export{et as M,fe as u};
